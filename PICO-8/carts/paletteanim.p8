pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
#include alarms.lua
#include colors.lua

startColor=1
textColor=white

--update start color skipping black
function NextColor()
	startColor += 1
	if (startColor == 16) then startColor = 1 end
	return startColor
end

--shift in indexes 1-15 in color palette
function ShiftPalette()
	local pc=startColor
	for i=1,15 do
		pal(i,pc,1)
		pc+=1
		if (pc==16) then pc=1 end
	end
	NextColor()
	textColor-=1
	if (textColor == 0) then textColor = 15 end
end

function _init()
	cls(black)
	
	for i=0,15 do
		circfill(i*8+4,4,3, NextColor())
	end

	for i=1,14 do
		circfill(124,i*8+4,3,NextColor())
	end
	
	for i=15,0,-1 do
		circfill(i*8+4,124,3,NextColor())
	end
	
	for i=14,1,-1 do
		circfill(4,i*8+4,3,NextColor())
	end
    c=1
end

function _update()
	ShiftPalette()
end

function _draw()
	color(textColor)
	print("Palette animation demo",20,63)
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
